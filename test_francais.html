<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß™ Test Minimal - Section Fran√ßais</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f0f9ff;
        }
        
        .test-container {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        button {
            background: #2a9d8f;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            margin: 10px;
            font-size: 14px;
        }
        
        button:hover {
            background: #238276;
        }
        
        .log {
            background: #1a1a1a;
            color: #00ff00;
            font-family: monospace;
            padding: 15px;
            border-radius: 8px;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .status {
            padding: 10px;
            border-radius: 6px;
            margin: 10px 0;
            font-weight: bold;
        }
        
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .status.warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
    </style>
</head>
<body>
    <h1>üß™ Test Minimal - Section Fran√ßais Duolingo</h1>
    <p>Cette page teste les fonctionnalit√©s de base avant le d√©ploiement complet.</p>

    <!-- Test 1: JavaScript de base -->
    <div class="test-container">
        <h2>1Ô∏è‚É£ Test JavaScript de Base</h2>
        <button onclick="testBasicJS()">Tester JavaScript</button>
        <button onclick="testLocalStorage()">Tester LocalStorage</button>
        <button onclick="testConsoleLog()">Tester Console</button>
        <div id="js-status" class="status" style="display: none;"></div>
    </div>

    <!-- Test 2: √âv√©nements DOM -->
    <div class="test-container">
        <h2>2Ô∏è‚É£ Test √âv√©nements DOM</h2>
        <button id="test-click-btn" onclick="testClickEvent()">Test Click</button>
        <button onclick="testDOMManipulation()">Test DOM</button>
        <button onclick="testChangeScreen()">Test √âcrans</button>
        <div id="dom-status" class="status" style="display: none;"></div>
        
        <!-- √âcrans de test -->
        <div id="screen-welcome" class="screen active" style="display: block; padding: 10px; border: 2px solid #2a9d8f; margin: 10px 0;">
            <h3>üè† √âcran d'accueil</h3>
            <button onclick="showScreen('lessons')">Aller aux le√ßons</button>
        </div>
        
        <div id="screen-lessons" class="screen" style="display: none; padding: 10px; border: 2px solid #e9c46a; margin: 10px 0;">
            <h3>üìö √âcran des le√ßons</h3>
            <button onclick="showScreen('welcome')">Retour accueil</button>
        </div>
    </div>

    <!-- Test 3: Stockage et Donn√©es -->
    <div class="test-container">
        <h2>3Ô∏è‚É£ Test Stockage et Donn√©es</h2>
        <button onclick="testDataSave()">Sauvegarder Donn√©es</button>
        <button onclick="testDataLoad()">Charger Donn√©es</button>
        <button onclick="testDataClear()">Effacer Donn√©es</button>
        <div id="storage-status" class="status" style="display: none;"></div>
        
        <div style="margin: 10px 0;">
            <strong>Donn√©es actuelles:</strong>
            <div id="current-data" style="font-family: monospace; background: #f5f5f5; padding: 10px; border-radius: 4px;"></div>
        </div>
    </div>

    <!-- Test 4: Syst√®mes Gamifi√©s -->
    <div class="test-container">
        <h2>4Ô∏è‚É£ Test Syst√®mes Gamifi√©s</h2>
        <button onclick="testHeartSystem()">Tester C≈ìurs</button>
        <button onclick="testStreakSystem()">Tester Streaks</button>
        <button onclick="testXPSystem()">Tester XP</button>
        <div id="gamification-status" class="status" style="display: none;"></div>
        
        <div style="display: flex; gap: 20px; margin: 10px 0; align-items: center;">
            <div>‚ù§Ô∏è C≈ìurs: <span id="hearts-count">5</span></div>
            <div>üî• Streak: <span id="streak-count">0</span></div>
            <div>‚≠ê XP: <span id="xp-count">0</span></div>
        </div>
    </div>

    <!-- Console de Debug -->
    <div class="test-container">
        <h2>üîç Console de Debug</h2>
        <button onclick="clearLog()">Effacer Log</button>
        <button onclick="runAllTests()">üöÄ Lancer Tous les Tests</button>
        <div id="debug-log" class="log"></div>
    </div>

    <script>
        // Variables globales pour les tests
        let debugLog = [];
        let testData = {
            hearts: 5,
            streak: 0,
            xp: 0,
            profile: { name: 'Testeur', level: 1 }
        };

        // Fonction de logging
        function log(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = `[${timestamp}] [${type.toUpperCase()}] ${message}`;
            debugLog.push(logEntry);
            
            const logElement = document.getElementById('debug-log');
            logElement.textContent += logEntry + '\n';
            logElement.scrollTop = logElement.scrollHeight;
            
            console.log(logEntry);
        }

        // Fonction d'affichage de statut
        function showStatus(containerId, type, message) {
            const container = document.getElementById(containerId);
            container.className = `status ${type}`;
            container.textContent = message;
            container.style.display = 'block';
        }

        // TEST 1: JavaScript de base
        function testBasicJS() {
            log('üß™ Test JavaScript de base...');
            
            try {
                // Test des variables
                let testVar = 'Hello World';
                
                // Test des fonctions
                function testFunction() {
                    return 'Function works!';
                }
                
                // Test des objets
                let testObject = { name: 'Test', value: 42 };
                
                // Test des tableaux
                let testArray = [1, 2, 3, 4, 5];
                
                log('‚úÖ Variables: OK');
                log('‚úÖ Fonctions: OK');
                log('‚úÖ Objets: OK');
                log('‚úÖ Tableaux: OK');
                
                showStatus('js-status', 'success', '‚úÖ JavaScript fonctionne correctement !');
                
            } catch (error) {
                log(`‚ùå Erreur JavaScript: ${error.message}`, 'error');
                showStatus('js-status', 'error', `‚ùå Erreur: ${error.message}`);
            }
        }

        function testLocalStorage() {
            log('üíæ Test LocalStorage...');
            
            try {
                // Test d'√©criture
                localStorage.setItem('test_key', 'test_value');
                log('‚úÖ √âcriture LocalStorage: OK');
                
                // Test de lecture
                const value = localStorage.getItem('test_key');
                if (value === 'test_value') {
                    log('‚úÖ Lecture LocalStorage: OK');
                } else {
                    throw new Error('Valeur incorrecte lue');
                }
                
                // Test de suppression
                localStorage.removeItem('test_key');
                log('‚úÖ Suppression LocalStorage: OK');
                
                showStatus('js-status', 'success', '‚úÖ LocalStorage fonctionne !');
                
            } catch (error) {
                log(`‚ùå Erreur LocalStorage: ${error.message}`, 'error');
                showStatus('js-status', 'error', `‚ùå LocalStorage non disponible: ${error.message}`);
            }
        }

        function testConsoleLog() {
            log('üìù Test Console...');
            
            console.log('üß™ Test console.log');
            console.warn('‚ö†Ô∏è Test console.warn');
            console.error('‚ùå Test console.error');
            console.info('‚ÑπÔ∏è Test console.info');
            
            log('‚úÖ Console fonctionne - v√©rifiez F12');
            showStatus('js-status', 'success', '‚úÖ Console OK - v√©rifiez F12');
        }

        // TEST 2: √âv√©nements DOM
        function testClickEvent() {
            log('üñ±Ô∏è Test √©v√©nement click...');
            
            const button = document.getElementById('test-click-btn');
            if (button) {
                button.style.background = '#4caf50';
                button.textContent = '‚úÖ Click D√©tect√© !';
                
                setTimeout(() => {
                    button.style.background = '#2a9d8f';
                    button.textContent = 'Test Click';
                }, 2000);
                
                log('‚úÖ √âv√©nement click fonctionne');
                showStatus('dom-status', 'success', '‚úÖ √âv√©nements click OK !');
            } else {
                log('‚ùå Bouton non trouv√©', 'error');
                showStatus('dom-status', 'error', '‚ùå √âl√©ment DOM non trouv√©');
            }
        }

        function testDOMManipulation() {
            log('üîß Test manipulation DOM...');
            
            try {
                // Test de s√©lection d'√©l√©ments
                const welcomeScreen = document.getElementById('screen-welcome');
                const lessonsScreen = document.getElementById('screen-lessons');
                
                if (welcomeScreen && lessonsScreen) {
                    log('‚úÖ S√©lection √©l√©ments: OK');
                    
                    // Test de modification de style
                    welcomeScreen.style.border = '3px solid #4caf50';
                    log('‚úÖ Modification style: OK');
                    
                    // Test de modification de contenu
                    const timestamp = new Date().toLocaleTimeString();
                    welcomeScreen.innerHTML += `<p style="color: green;">‚úÖ Test DOM r√©ussi √† ${timestamp}</p>`;
                    log('‚úÖ Modification contenu: OK');
                    
                    showStatus('dom-status', 'success', '‚úÖ Manipulation DOM OK !');
                } else {
                    throw new Error('√âl√©ments DOM non trouv√©s');
                }
                
            } catch (error) {
                log(`‚ùå Erreur DOM: ${error.message}`, 'error');
                showStatus('dom-status', 'error', `‚ùå Erreur DOM: ${error.message}`);
            }
        }

        function showScreen(screenName) {
            log(`üîÑ Changement vers √©cran: ${screenName}`);
            
            try {
                // Masquer tous les √©crans
                document.querySelectorAll('.screen').forEach(screen => {
                    screen.style.display = 'none';
                    screen.classList.remove('active');
                });
                
                // Afficher l'√©cran demand√©
                const targetScreen = document.getElementById(`screen-${screenName}`);
                if (targetScreen) {
                    targetScreen.style.display = 'block';
                    targetScreen.classList.add('active');
                    log(`‚úÖ √âcran ${screenName} affich√©`);
                    showStatus('dom-status', 'success', `‚úÖ Changement d'√©cran vers ${screenName} r√©ussi !`);
                } else {
                    throw new Error(`√âcran ${screenName} non trouv√©`);
                }
                
            } catch (error) {
                log(`‚ùå Erreur changement √©cran: ${error.message}`, 'error');
                showStatus('dom-status', 'error', `‚ùå Erreur √©cran: ${error.message}`);
            }
        }

        function testChangeScreen() {
            log('üîÑ Test changement d\'√©crans...');
            
            // S√©quence de tests automatique
            setTimeout(() => showScreen('lessons'), 500);
            setTimeout(() => showScreen('welcome'), 1500);
            setTimeout(() => {
                log('‚úÖ Test changement d\'√©crans termin√©');
                showStatus('dom-status', 'success', '‚úÖ Changement d\'√©crans OK !');
            }, 2500);
        }

        // TEST 3: Stockage et Donn√©es
        function testDataSave() {
            log('üíæ Test sauvegarde des donn√©es...');
            
            try {
                const dataToSave = {
                    profile: testData.profile,
                    hearts: testData.hearts,
                    streak: testData.streak,
                    xp: testData.xp,
                    timestamp: new Date().toISOString()
                };
                
                localStorage.setItem('francais_test_data', JSON.stringify(dataToSave));
                log('‚úÖ Donn√©es sauvegard√©es');
                showStatus('storage-status', 'success', '‚úÖ Sauvegarde r√©ussie !');
                updateDataDisplay();
                
            } catch (error) {
                log(`‚ùå Erreur sauvegarde: ${error.message}`, 'error');
                showStatus('storage-status', 'error', `‚ùå Erreur sauvegarde: ${error.message}`);
            }
        }

        function testDataLoad() {
            log('üìÇ Test chargement des donn√©es...');
            
            try {
                const savedData = localStorage.getItem('francais_test_data');
                if (savedData) {
                    const parsedData = JSON.parse(savedData);
                    testData = { ...testData, ...parsedData };
                    log('‚úÖ Donn√©es charg√©es');
                    showStatus('storage-status', 'success', '‚úÖ Chargement r√©ussi !');
                    updateDataDisplay();
                } else {
                    log('‚ö†Ô∏è Aucune donn√©e sauvegard√©e trouv√©e', 'warning');
                    showStatus('storage-status', 'warning', '‚ö†Ô∏è Aucune donn√©e trouv√©e');
                }
                
            } catch (error) {
                log(`‚ùå Erreur chargement: ${error.message}`, 'error');
                showStatus('storage-status', 'error', `‚ùå Erreur chargement: ${error.message}`);
            }
        }

        function testDataClear() {
            log('üóëÔ∏è Test effacement des donn√©es...');
            
            try {
                localStorage.removeItem('francais_test_data');
                testData = {
                    hearts: 5,
                    streak: 0,
                    xp: 0,
                    profile: { name: 'Testeur', level: 1 }
                };
                log('‚úÖ Donn√©es effac√©es');
                showStatus('storage-status', 'success', '‚úÖ Donn√©es effac√©es !');
                updateDataDisplay();
                
            } catch (error) {
                log(`‚ùå Erreur effacement: ${error.message}`, 'error');
                showStatus('storage-status', 'error', `‚ùå Erreur effacement: ${error.message}`);
            }
        }

        function updateDataDisplay() {
            const dataDisplay = document.getElementById('current-data');
            dataDisplay.textContent = JSON.stringify(testData, null, 2);
            
            // Mise √† jour des compteurs
            document.getElementById('hearts-count').textContent = testData.hearts;
            document.getElementById('streak-count').textContent = testData.streak;
            document.getElementById('xp-count').textContent = testData.xp;
        }

        // TEST 4: Syst√®mes Gamifi√©s
        function testHeartSystem() {
            log('‚ù§Ô∏è Test syst√®me de c≈ìurs...');
            
            try {
                // Simuler perte de c≈ìur
                if (testData.hearts > 0) {
                    testData.hearts--;
                    log(`üíî C≈ìur perdu. Restants: ${testData.hearts}`);
                } else {
                    // R√©g√©n√©ration
                    testData.hearts = 5;
                    log('üíö C≈ìurs r√©g√©n√©r√©s !');
                }
                
                updateDataDisplay();
                showStatus('gamification-status', 'success', '‚úÖ Syst√®me de c≈ìurs OK !');
                
            } catch (error) {
                log(`‚ùå Erreur c≈ìurs: ${error.message}`, 'error');
                showStatus('gamification-status', 'error', `‚ùå Erreur c≈ìurs: ${error.message}`);
            }
        }

        function testStreakSystem() {
            log('üî• Test syst√®me de streaks...');
            
            try {
                testData.streak++;
                log(`üî• Streak augment√©: ${testData.streak} jours`);
                
                if (testData.streak >= 7) {
                    log('üèÜ Milestone 7 jours atteint !');
                }
                
                updateDataDisplay();
                showStatus('gamification-status', 'success', '‚úÖ Syst√®me de streaks OK !');
                
            } catch (error) {
                log(`‚ùå Erreur streaks: ${error.message}`, 'error');
                showStatus('gamification-status', 'error', `‚ùå Erreur streaks: ${error.message}`);
            }
        }

        function testXPSystem() {
            log('‚≠ê Test syst√®me XP...');
            
            try {
                const gainXP = Math.floor(Math.random() * 50) + 10;
                testData.xp += gainXP;
                log(`‚≠ê +${gainXP} XP gagn√©. Total: ${testData.xp}`);
                
                // Test de level up
                const newLevel = Math.floor(testData.xp / 100) + 1;
                if (newLevel > testData.profile.level) {
                    testData.profile.level = newLevel;
                    log(`üéâ Level Up ! Niveau ${newLevel}`);
                }
                
                updateDataDisplay();
                showStatus('gamification-status', 'success', '‚úÖ Syst√®me XP OK !');
                
            } catch (error) {
                log(`‚ùå Erreur XP: ${error.message}`, 'error');
                showStatus('gamification-status', 'error', `‚ùå Erreur XP: ${error.message}`);
            }
        }

        // Fonctions utilitaires
        function clearLog() {
            debugLog = [];
            document.getElementById('debug-log').textContent = '';
            log('üßπ Log effac√©');
        }

        function runAllTests() {
            log('üöÄ Lancement de tous les tests...');
            
            // S√©quence de tests automatique
            setTimeout(() => testBasicJS(), 500);
            setTimeout(() => testLocalStorage(), 1000);
            setTimeout(() => testConsoleLog(), 1500);
            setTimeout(() => testClickEvent(), 2000);
            setTimeout(() => testDOMManipulation(), 2500);
            setTimeout(() => testChangeScreen(), 3000);
            setTimeout(() => testDataSave(), 5000);
            setTimeout(() => testDataLoad(), 5500);
            setTimeout(() => testHeartSystem(), 6000);
            setTimeout(() => testStreakSystem(), 6500);
            setTimeout(() => testXPSystem(), 7000);
            setTimeout(() => {
                log('üéâ Tous les tests termin√©s !');
                log('üìã R√©sum√©: V√©rifiez les statuts ci-dessus');
            }, 7500);
        }

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            log('üîß Page de test minimal initialis√©e');
            log('üí° Cliquez sur "Lancer Tous les Tests" pour un test complet');
            updateDataDisplay();
        });
    </script>
</body>
</html>