<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Exercice 7 : Les homophones grammaticaux</title>
  <link rel="stylesheet" href="styles/section_style.css">
</head>
<body>
  <h1>Exercice 7 : Les homophones grammaticaux (a / √†, et / est)</h1>
  <section>
    <h2>üìö Choisis le bon homophone</h2>
    <p>Compl√®te les phrases avec <strong>a / √†</strong> ou <strong>et / est</strong> selon le contexte.</p>
    <ul>
      <li>Elle <input type="text" id="q1" placeholder="a ou √†"> oubli√© ses cl√©s sur la table.</li>
      <li>Il part en vacances <input type="text" id="q2" placeholder="a ou √†"> Paris.</li>
      <li>Mon fr√®re <input type="text" id="q3" placeholder="et ou est"> tr√®s content de son cadeau.</li>
      <li>Je mange une pomme <input type="text" id="q4" placeholder="et ou est"> un biscuit.</li>
    </ul>
    <button id="check-answers" class="back-button">V√©rifier les r√©ponses</button>
    <p id="feedback" style="margin-top:10px;"></p>
  </section>
  <script>
  document.addEventListener("DOMContentLoaded", function() {
    let checkButton = document.getElementById("check-answers");
    if (!checkButton) return;
    checkButton.addEventListener("click", function(event) {
      event.preventDefault();
      const correctAnswers = {
        "francais_exercice1.html": { q1: "le", q2: "les", q3: "la" },
        "francais_exercice2.html": { q1: "noir", q2: "jolie", q3: "blanches" },
        "francais_exercice3.html": { q1: "avons mang√©", q2: "ira", q3: "prends" },
        "francais_exercice4.html": { q1: "animaux", q2: "journaux", q3: "chevaux" },
        "francais_exercice5.html": { q1: "noir", q2: "belles", q3: "gentil" },
        "francais_exercice6.html": { q1: "chante", q2: "jouons", q3: "marche" },
        "francais_exercice7.html": { q1: "a", q2: "√†", q3: "est", q4: "et" },
        "francais_exercice8.html": { q1: "je", q2: "nous", q3: "il", q4: "vous" },
        "francais_exercice9.html": { q1: "ne... pas", q2: "ne... plus", q3: "ne... plus" }
      };
      let currentFile = window.location.pathname.split("/").pop();
      if (!currentFile || !correctAnswers[currentFile]) {
        currentFile = "francais_exercice7.html";
      }
      const answers = correctAnswers[currentFile];
      let correctCount = 0;
      let feedbackMessage = "<strong>R√©sultats :</strong><br>";
      document.querySelectorAll("input[type='text']").forEach(input => {
        let userAnswer = input.value.trim().toLowerCase();
        let questionId = input.id;
        if (answers[questionId]) {
          if (userAnswer === answers[questionId]) {
            input.style.setProperty("border", "3px solid green", "important");
            input.style.setProperty("background-color", "#d4edda", "important");
            input.insertAdjacentHTML('afterend', " <span style='color:green;'>‚úîÔ∏è Correct</span>");
            feedbackMessage += `‚úîÔ∏è Bonne r√©ponse : <strong>${userAnswer}</strong><br>`;
            correctCount++;
          } else {
            input.style.setProperty("border", "3px solid red", "important");
            input.style.setProperty("background-color", "#f8d7da", "important");
            input.insertAdjacentHTML('afterend', " <span style='color:red;'>‚ùå Faux - R√©ponse correcte : <strong>" + answers[questionId] + "</strong></span>");
            feedbackMessage += `‚ùå Mauvaise r√©ponse. La bonne r√©ponse √©tait : <strong>${answers[questionId]}</strong><br>`;
          }
          input.disabled = true;
        }
      });
      if (correctCount === Object.keys(answers).length) {
        feedbackMessage += "<br>üéâ Bravo ! Toutes les r√©ponses sont correctes !";
      } else {
        feedbackMessage += "<br>üòä Tu peux r√©essayer en rafra√Æchissant la page.";
      }
      let feedback = document.getElementById("feedback");
      if (feedback) {
        feedback.innerHTML = feedbackMessage;
      }
      checkButton.disabled = true;
    });
  });
  </script>
  <nav style="display: flex; justify-content: center; gap: 10px; margin-top: 20px;">
    <!-- Adaptez les liens en fonction de l'exercice courant -->
    <button onclick="location.href='francais_exercice6.html'">Exercice pr√©c√©dent</button>
    <button onclick="location.href='francais_exercice8.html'">Exercice suivant</button>
    <button onclick="location.href='index.html'">Retour au menu principal</button>
  </nav>
  
</body>
</html>
