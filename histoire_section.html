<!DOCTYPE html>
<html lang="fr">
<!-- Header avec contrÃ´le utilisateur intÃ©grÃ© -->
<header class="section-header-styled [section]">
    <div class="header-container">
        <!-- Navigation retour -->
        <button onclick="history.back()" class="back-btn-minecraft [section]">
            â† Retour
        </button>
        
        <!-- ContrÃ´le utilisateur (nouveau) -->
        <div id="user-control" class="user-control-container">
            <!-- Ã‰tat non connectÃ© -->
            <div id="user-guest" class="user-guest">
                <button onclick="userController.showProfileSetup()" class="btn-profile-setup">
                    ğŸ‘¤ CrÃ©er mon profil
                </button>
            </div>
            
            <!-- Ã‰tat connectÃ© -->
            <div id="user-connected" class="user-connected" style="display: none;">
                <div class="user-avatar" onclick="userController.toggleMenu()">
                    <img id="user-avatar-img" src="images/avatars/curio-default.png" alt="Avatar">
                    <span id="user-nickname">Explorateur</span>
                </div>
                
                <!-- Menu dÃ©roulant utilisateur -->
                <div id="user-menu" class="user-dropdown-menu" style="display: none;">
                    <div class="user-menu-header">
                        <strong id="menu-nickname">Explorateur</strong>
                        <span class="user-level">Niveau <span id="menu-level">1</span></span>
                    </div>
                    
                    <div class="user-menu-stats">
                        <div class="stat-item">
                            <span class="stat-icon">ğŸ”¥</span>
                            <span class="stat-value" id="menu-streak">0</span>
                            <span class="stat-label">jours</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-icon">â­</span>
                            <span class="stat-value" id="menu-xp">0</span>
                            <span class="stat-label">XP</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-icon">ğŸ†</span>
                            <span class="stat-value" id="menu-badges">0</span>
                            <span class="stat-label">badges</span>
                        </div>
                    </div>
                    
                    <ul class="user-menu-actions">
                        <li><a href="mon-parcours.html">ğŸ“Š Mon Tableau de Bord</a></li>
                        <li><a href="#" onclick="userController.editProfile()">âœï¸ Modifier Profil</a></li>
                        <li><a href="#" onclick="userController.exportData()">ğŸ’¾ Exporter DonnÃ©es</a></li>
                        <li><a href="#" onclick="userController.showSettings()">âš™ï¸ ParamÃ¨tres</a></li>
                        <li class="divider"></li>
                        <li><a href="#" onclick="userController.resetProfile()" class="danger">ğŸ”„ RÃ©initialiser</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</header>
<body class="histoire-section">
    <!-- Header stylisÃ© avec composant -->
    <header class="section-header-styled histoire">
        <nav aria-label="Fil d'Ariane" class="breadcrumb-minecraft">
            <ol>
                <li><a href="index.html">ğŸ  Accueil</a></li>
                <li><a href="sections.html">ğŸ“š Sections</a></li>
                <li aria-current="page">ğŸ“œ Histoire-GÃ©o</li>
            </ol>
        </nav>
    </header>

    <main>
        <!-- Fil d'Ariane -->
        <div class="breadcrumb" aria-label="Fil d'Ariane">
            ğŸ  <a href="index.html">Accueil</a> &gt; ğŸ“œ Histoire
        </div>
        
        <!-- Menu latÃ©ral simple et fonctionnel -->
        <button class="sidebar-toggle" aria-label="Ouvrir / fermer le menu">â˜°</button>
        <div class="sidebar" aria-hidden="true">
            <ul>
                <li><a href="index.html">Accueil</a></li>
                <li><a href="maths_section.html">MathÃ©matiques</a></li>
                <li><a href="sciences_section.html">Sciences</a></li>
                <li><a href="histoire_section.html">Histoire-GÃ©o</a></li>
                <li><a href="francais_section.html">FranÃ§ais</a></li>
                <li><a href="english_section.html">English</a></li>
                <li><a href="programmation_section.html">Programmation</a></li>
                <li><a href="echecs_section.html">Ã‰checs</a></li>
                <li><a href="philosophie_section.html">Philosophie</a></li>
                <li><a href="ressources_section.html">Ressources</a></li>
                <li><a href="infos_section.html">Infos</a></li>
                <li><a href="ia_section.html">IA</a></li>
                <li><a href="mon-parcours.html">Mon Parcours</a></li>
            </ul>
        </div>

        <!-- Zone XP automatique -->
        <div id="xp-status" style="text-align: center; margin: 1rem 0; padding: 1rem; background: #f1faee; border-radius: 8px; display: none;">
            <span id="xp-display">XP: 0</span> | 
            <span id="hearts-display">â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸</span> | 
            <span id="streak-display">ğŸ”¥ 0 jours</span>
        </div>

        <!-- Outils d'accessibilitÃ© -->
        <div class="accessibility-tools">
            <button class="accessibility-button" id="text-size-toggle" title="Changer la taille du texte" aria-label="Agrandir le texte">A</button>
            <button class="accessibility-button" id="contrast-toggle" title="Changer le contraste" aria-label="Mode contraste Ã©levÃ©">C</button>
            <button class="accessibility-button" id="dark-mode-toggle" title="Mode sombre" aria-label="Activer/dÃ©sactiver le mode sombre">ğŸŒ™</button>
        </div>

        <div class="section-title">
            <h1>ğŸŒ Bienvenue dans la section Histoire-GÃ©ographie</h1>
            <p>Explore l'histoire et la gÃ©ographie Ã  travers les grandes pÃ©riodes et les paysages du monde.</p>
        </div>

        <!-- Contenu spÃ©cifique Ã  la section PRÃ‰SERVÃ‰ -->
        <section>
            <div id="main-content" class="content-container">
                <div class="content">
                    <section>
                        <h2>ğŸ“œ Histoire</h2>
                        <ul>
                            <li><a href="histoire_antique.html">ğŸ›ï¸ Histoire Antique</a></li>
                            <li><a href="histoire_decouvertes.html">âš“ï¸ Grandes DÃ©couvertes</a></li>
                            <li><a href="histoire_moyenage.html">ğŸ° Moyen Ã‚ge</a></li>
                            <li><a href="histoire_revolution.html">ğŸ‡«ğŸ‡· RÃ©volution FranÃ§aise</a></li>
                            <li><a href="histoire_ecriture.html">âœï¸ Naissance de l'Ã©criture</a></li>
                        </ul>
                    </section>

                    <section>
                        <h2>ğŸŒ GÃ©ographie</h2>
                        <ul>
                            <li><a href="geographie_continents.html">ğŸŒŠ Continents et OcÃ©ans</a></li>
                            <li><a href="geographie_paysages.html">ğŸŒ„ Paysages FranÃ§ais</a></li>
                            <li><a href="geographie_villes.html">ğŸ™ï¸ Grandes Villes en France et en Europe</a></li>
                            <li><a href="geographie_population.html">ğŸ‘¥ RÃ©partition de la Population</a></li>
                        </ul>
                    </section>
                </div>
            </div>
        </section>
    </main>

    <!-- Scripts standards -->
    <script src="scripts/general_script.js"></script>
    <script src="scripts/xp_system_complete.js"></script>
    <script src="scripts/accessibilite.js"></script>
    <script src="scripts/menu_enhanced.js"></script>

    <script>
        // Initialisation standard
        document.addEventListener("DOMContentLoaded", function() {
            // Gestion du menu latÃ©ral
            var sidebar = document.querySelector('.sidebar');
            var toggleButton = document.querySelector('.sidebar-toggle');
            
            // Cacher initialement le menu
            if (sidebar) {
                sidebar.style.left = '-250px';
                sidebar.setAttribute('aria-hidden', 'true');
            }
            
            // Gestion du clic sur le bouton du menu
            if (toggleButton && sidebar) {
                toggleButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    if (sidebar.style.left === '0px') {
                        sidebar.style.left = '-250px';
                        sidebar.setAttribute('aria-hidden', 'true');
                    } else {
                        sidebar.style.left = '0px';
                        sidebar.setAttribute('aria-hidden', 'false');
                    }
                });
                
                // Fermer le menu en cliquant ailleurs
                document.addEventListener('click', function(e) {
                    if (sidebar.style.left === '0px' && 
                        e.target !== toggleButton && 
                        !sidebar.contains(e.target)) {
                        sidebar.style.left = '-250px';
                        sidebar.setAttribute('aria-hidden', 'true');
                    }
                });

                // Fermer le menu avec Ã‰chap
                document.addEventListener('keydown', function(e) {
                    if (e.key === 'Escape' && sidebar && sidebar.style.left === '0px') {
                        sidebar.style.left = '-250px';
                        sidebar.setAttribute('aria-hidden', 'true');
                    }
                });
            }

            // XP system integration
            setTimeout(() => {
                if (window.xpManager) {
                    try {
                        window.xpManager.currentSection = 'histoire';
                    } catch (err) {
                        console.warn('Impossible de dÃ©finir xpManager.currentSection', err);
                    }
                    var xpEl = document.getElementById('xp-status');
                    if (xpEl) xpEl.style.display = 'block';
                }
            }, 1000);

            console.log("âœ”ï¸ Section Histoire-GÃ©ographie chargÃ©e avec succÃ¨s !");
        });
    </script>
</body>
</html>