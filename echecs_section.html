<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Section √âchecs ‚ôüÔ∏è</title>
    <link rel="stylesheet" href="styles/section_style.css">
</head>
<body>
    <div id="menu-container"></div>
<script>
    fetch('menu_lateral.html')
        .then(response => response.text())
        .then(data => document.getElementById('menu-container').innerHTML = data);
</script>

    <h1>Bienvenue dans la section √âchecs ‚ôüÔ∏è</h1>
    <div class="content">
        <p>Apprends les bases des √©checs et r√©sous des situations tactiques pour progresser comme un pro !</p>
        <div id="quiz-section">
            <h3 id="question">Question 1 : Comment se d√©place le cavalier ? üê¥</h3>
            <img id="question-image" src="images/chevalier_echecs.png" alt="Cavalier" width="200">
            <button onclick="checkAnswer(1, 'correct')">En forme de L</button>
            <button onclick="checkAnswer(1, 'incorrect')">En ligne droite</button>
            <button onclick="checkAnswer(1, 'incorrect')">Diagonale</button>
        </div>
        <p id="feedback" style="margin-top: 20px;"></p>
        <p class="score">Score : <span id="score">0</span>/5</p>
        <button id="next-button" style="display:none;" onclick="nextQuestion()">Question suivante</button>
        <a href="index.html" class="back-button">Retour √† la page d'accueil üè†</a>
    </div>
    <script> let currentQuestion = 1;
        let score = 0;
        const questions = [
            {
                question: "Comment se d√©place le cavalier ? üê¥",
                options: ["En forme de L", "En ligne droite", "Diagonale"],
                correctIndex: 0,
                explanation: "Le cavalier se d√©place toujours en L : deux cases dans une direction, puis une case perpendiculaire.",
                image: "images/chevalier_echecs.png"
            },
            {
                question: "Comment se d√©place la tour ? ‚ôú",
                options: ["En ligne droite", "En diagonale", "En L"],
                correctIndex: 0,
                explanation: "La tour peut se d√©placer horizontalement ou verticalement sur toutes les cases disponibles.",
                image: "images/our_echecs.png"
            },
            {
                question: "Comment se d√©place le fou ? ‚ôù",
                options: ["En diagonale", "En ligne droite", "En L"],
                correctIndex: 0,
                explanation: "Le fou se d√©place en diagonale et reste toujours sur des cases de la m√™me couleur.",
                image: "https://upload.wikimedia.org/wikipedia/commons/b/b1/Chess_blt45.svg"
            },
            {
                question: "Que se passe-t-il quand un pion atteint la derni√®re rang√©e ?",
                options: ["Il est promu", "Il est √©limin√©", "Il reste en place"],
                correctIndex: 0,
                explanation: "Le pion peut √™tre promu en dame, tour, fou ou cavalier lorsqu‚Äôil atteint la derni√®re rang√©e.",
                image: "pion_echecs.png"
            },
            {
                question: "Quelle pi√®ce est la plus puissante ?",
                options: ["La dame", "Le cavalier", "Le roi"],
                correctIndex: 0,
                explanation: "La dame est la pi√®ce la plus puissante car elle combine les d√©placements de la tour et du fou.",
                image: "reine_echecs.png"
            }
        ];
        function checkAnswer(questionNumber, answerType) {
            const feedback = document.getElementById('feedback');
            if (answerType === 'correct') {
                feedback.innerHTML = `<span class='correct'>Bonne r√©ponse ! üéâ ${questions[questionNumber - 1].explanation}</span>`;
                score++;
                document.getElementById('score').innerText = score;
            } else {
                feedback.innerHTML = "<span class='incorrect'>Mauvaise r√©ponse üòû. R√©fl√©chis bien !</span>";
            }
            if (answerType === 'correct') {
                document.getElementById('next-button').style.display = 'inline-block';
            }
        }
        function nextQuestion() {
            currentQuestion++;
            if (currentQuestion <= questions.length) {
                const current = questions[currentQuestion - 1];
                document.getElementById('question').innerText = current.question;
                document.getElementById('question-image').src = current.image;
                const buttons = document.querySelectorAll('#quiz-section button');
                buttons.forEach((button, index) => {
                    button.innerText = current.options[index];
                    button.setAttribute('onclick', index === current.correctIndex ? 
                        "checkAnswer(currentQuestion, 'correct')" : 
                        "checkAnswer(currentQuestion, 'incorrect')");
                });
                document.getElementById('feedback').innerText = "";
                document.getElementById('next-button').style.display = 'none';
            } else {
                document.getElementById('feedback').innerHTML = `<span class='correct'>Bravo ! üéâ Tu as termin√© avec un score de ${score}/${questions.length}.</span>`;
                document.getElementById('next-button').style.display = 'none';
            }
        } </script>
        <script>
            document.addEventListener("DOMContentLoaded", function() {
                console.log("‚úîÔ∏è Script charg√© dans maths_section.html");
        
                // Charger dynamiquement le menu lat√©ral
                fetch("menu_lateral.html")
                .then(response => response.text())
                .then(data => {
                    document.getElementById("menu-container").innerHTML = data;
                    console.log("‚úîÔ∏è Menu lat√©ral charg√© avec succ√®s !");
        
                    let sidebar = document.getElementById("sidebar");
                    let toggleButton = document.getElementById("sidebar-toggle");
        
                    console.log("Sidebar d√©tect√©e :", sidebar);
                    console.log("Bouton d√©tect√© :", toggleButton);
        
                    if (!sidebar) {
                        console.error("‚ùå Erreur : √âl√©ment #sidebar introuvable !");
                        return;
                    }
        
                    if (!toggleButton) {
                        console.error("‚ùå Erreur : Bouton #sidebar-toggle introuvable !");
                        return;
                    }
        
                    toggleButton.addEventListener("click", function() {
                        console.log("‚úîÔ∏è Bouton cliqu√© !");
                        sidebar.classList.toggle("open");
                        console.log("üîÑ Classe 'open' appliqu√©e :", sidebar.classList.contains("open"));
                    });
                })
                .catch(error => console.error("‚ùå Erreur lors du chargement du menu lat√©ral :", error));
            });
        </script>
</body>
</html>